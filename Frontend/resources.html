<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Available Resources</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li>
                <a href="#">Pages</a>
                <ul class="dropdown">
                    <li><a href="signup.html">Sign Up</a></li>
                    <li><a href="login.html">Log In</a></li>
                    <li><a href="account.html">Account Management</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="resource-post.html">Post Resource</a></li>
                    <li><a href="resources.html">Available Resources</a></li>
                    <li><a href="reviews.html">User Reviews</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <!-- Available Resources Section -->
    <header>
        <h1>Available Resources</h1>
    </header>
    <section>
        <table id="resourcesTable">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Category</th>
                    <th>Link</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows will be dynamically inserted here -->
            </tbody>
        </table>
    </section>

    <!-- Footer -->
    <footer>
        <p>Â© 2024 AI Resource Hub</p>
    </footer>

    <script>
        // Fetch resources from the backend and display them in the table
        async function loadResources() {
            try {
                const response = await fetch('http://localhost:5000/resources');
                const resources = await response.json();

                const tableBody = document.querySelector('#resourcesTable tbody');
                tableBody.innerHTML = ''; // Clear any existing rows

                resources.forEach(resource => {
                    const row = `
                        <tr>
                            <td>${resource.title}</td>
                            <td>${resource.description}</td>
                            <td>${resource.category}</td>
                            <td><a href="${resource.link}" target="_blank">View</a></td>
                        </tr>
                    `;
                    tableBody.innerHTML += row;
                });
            } catch (error) {
                console.error('Error fetching resources:', error);
            }
        }

        // Load resources when the page loads
        window.onload = loadResources;
    </script>
</body>
</html>
